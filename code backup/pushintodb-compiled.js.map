{"version":3,"sources":["pushintodb.js"],"names":[],"mappings":"AAAA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;;AAEA,SAAS,WAAT,CAAqB,OAArB,EAA6B,MAA7B,EAAoC,QAApC,EAA6C;AAC3C,MAAI,MAAM,MAAM,gBAAN,CAAuB;AAC/B,UAAM,WADyB;AAE/B,UAAM,MAFyB;AAG/B,cAAU,aAHqB;AAI/B,cAAS;AAJsB,GAAvB,CAAV;;AAOA,MAAI,OAAJ,CAAY,UAAS,GAAT,EAAa;AACvB,QAAG,GAAH,EAAO;AACL,cAAQ,GAAR,CAAY,wBAAZ;AACA;AACD;AACF,GALD;;AAOA,MAAI,KAAJ,CAAU,2CAAV,EAAwD,QAAQ,UAAR,CAAxD,EAA4E,UAAS,GAAT,EAAa,GAAb,EAAiB;AACzF,QAAG,GAAH,EAAQ,MAAM,GAAN;AACR,QAAG,IAAI,MAAJ,IAAc,CAAjB,EAAmB;AACjB,eAAS,IAAT;AAED;AACF,GANH;AAOD;;AAED,SAAS,UAAT,CAAoB,OAApB,EAA4B,MAA5B,EAAmC;AACjC,MAAI,MAAM,MAAM,gBAAN,CAAuB;AAC/B,UAAM,WADyB;AAE/B,UAAM,MAFyB;AAG/B,cAAU,aAHqB;AAI/B,cAAS;AAJsB,GAAvB,CAAV;;AAOA,MAAI,OAAJ,CAAY,UAAS,GAAT,EAAa;AACvB,QAAG,GAAH,EAAO;AACL,cAAQ,GAAR,CAAY,wBAAZ;AACA;AACD;AACF,GALD;;AAQA,MAAI,KAAJ,CAAU,2CAAV,EAAwD,CAAC,QAAQ,UAAR,CAAD,CAAxD,EAA8E,UAAS,GAAT,EAAa,GAAb,EAAiB;AAC7F,QAAG,GAAH,EAAQ,MAAM,GAAN;AACR,QAAG,IAAI,MAAJ,IAAc,CAAjB,EAAmB;AACf,UAAI,KAAJ,CAAU,kCAAV,EAA8C,EAAC,MAAK,QAAQ,UAAR,CAAN,EAA9C,EAAyE,UAAS,GAAT,EAAa,GAAb,EAAiB;AACxF,YAAG,GAAH,EAAQ,MAAM,GAAN;;AAET,OAHD;AAIH;;AAED,QAAI,KAAJ,CAAU,gCAAV,EAA4C,OAA5C,EAAoD,UAAS,GAAT,EAAa,GAAb,EAAiB;AACnE,UAAG,GAAH,EAAQ,MAAM,GAAN;;;AAGR,UAAI,GAAJ;AACD,KALD;AAOD,GAhBD;;;;;;;AAyBD;AACD,OAAO,OAAP,GAAe;AACf,cAAW;AADI,CAAf","file":"pushintodb-compiled.js","sourcesContent":["var mysql = require(\"mysql\");\n\nfunction checkUserId(details,dbName,callback){\n  var con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"ginger@data\",\n    database:'prodx'\n  });\n\n  con.connect(function(err){\n    if(err){\n      console.log('Error connecting to Db');\n      return;\n    }\n  });\n\n  con.query(\"SELECT * FROM chatapp_user WHERE name = ?\" , details[\"username\"],function(err,res){\n      if(err) throw err;\n      if(res.length == 0){\n        callback(true);\n\n      }\n    });\n}\n\nfunction inserttodB(details,dbName){\n  var con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"ginger@data\",\n    database:'prodx'\n  });\n\n  con.connect(function(err){\n    if(err){\n      console.log('Error connecting to Db');\n      return;\n    }\n  });\n\n\n  con.query(\"SELECT * FROM chatapp_user WHERE name = ?\" , [details[\"username\"]],function(err,res){\n    if(err) throw err;\n    if(res.length == 0){\n        con.query('INSERT INTO chatapp_user  SET  ?', {name:details[\"username\"]},function(err,res){\n          if(err) throw err;\n          // console.log(\"inserted into chatapp_user: \",res.length , res);\n        });\n    }\n\n    con.query('INSERT INTO chatapp_msg  SET ?', details,function(err,res){\n      if(err) throw err;\n\n      // console.log(\"inserted into chatapp_msg: \",res.length , res);\n      con.end();\n    });\n\n  });\n\n\n\n  /*con.end(function(err) {\n    // The connection is terminated gracefully\n    // Ensures all previously enqueued queries are still\n    // before sending a COM_QUIT packet to the MySQL server.\n  });*/\n}\nmodule.exports={\ninserttodB:inserttodB\n};"]}