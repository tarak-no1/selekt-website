{"version":3,"sources":["index-compiled.js"],"names":[],"mappings":"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","file":"index-compiled-compiled.js","sourcesContent":["'use strict';\n\n// Messenger API integration example\n// We assume you have:\n// * a Wit.ai bot setup (https://wit.ai/docs/quickstart)\n// * a Messenger Platform setup (https://developers.facebook.com/docs/messenger-platform/quickstart)\n// You need to `npm install` the following dependencies: body-parser, express, request.\n\nconst bodyParser = require('body-parser');\nconst express = require('express');\nvar moment = require('moment');\n\n// get Bot, const, and Facebook API\nconst bot = require('./bot.js');\nconst Config = require('./../config/const.js');\nconst FB = require('./facebook.js');\nconst Sessions = require('./sessions.js');\nconst sentenceParser = require('./cleanSentence');\nconst lContext = require('./localContexts.js');\nconst db = require('./pushintodb.js');\n\n// Web server parameter\nconst PORT = process.env.PORT || 8889;\n\n// Starting our webserver and putting it all together\nconst app = express();\napp.set('port', PORT);\napp.listen(app.get('port'));\napp.use(bodyParser.json());\nconsole.log(\"I'm wating for you @\" + PORT);\n\n// index. Let's say something fun\napp.get('/', function (req, res) {\n  res.send('\"Only those who will risk going too far can possibly find out how far one can go.\" - T.S. Eliot');\n});\n\n// Webhook verify setup using FB_VERIFY_TOKEN\napp.get('/webhook', function (req, res) {\n  if (!Config.FB_VERIFY_TOKEN) {\n    throw new Error('missing FB_VERIFY_TOKEN');\n  }\n  if (req.query['hub.mode'] === 'subscribe' && req.query['hub.verify_token'] === Config.FB_VERIFY_TOKEN) {\n    res.send(req.query['hub.challenge']);\n  } else {\n    res.sendStatus(400);\n  }\n});\n\napp.get('/version', function (req, res) {\n  var obj = {};\n  obj[\"version\"] = 20;\n  var stencilMessages = [];\n  stencilMessages.push({ sender: \"user\", message: \" You: Hi\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: Hello\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: I need a phone\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: Before showing you the results,\" + \" let me ask you three simple questions to know your preferences better.\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: what is the price range you are looking for ?\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: around 20 thousand\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: I have got 14 phones in this price range\" + \"1. Sony(3)\\n\" + \"2. HTC Mobiles(3)\\n\" + \"3. Samsung(2)\\n\" + \"4. One plus(2)\\n\" + \"5. Apple(1)\\n\" + \"6. Lenovo(1)\\n\" + \"7. Google Mobile(1)\\n\" + \"8. Motorola(1)\\n\" + \"If you want to filter out any of these brands, just type the corresponding number or type '0' to skip.\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: 6 7  1\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: Which of the following features is most important\" + \" to you ? Pick the corresponding number.\" + \"1. Camera\\n\" + \"2. Display\\n\" + \"3. Battery\\n\" + \"4. RAM\\n\" + \"5. All\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: 1\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: list size: 9: \" + \"Results are sorted based on camera specifications and expert camera reviews.\" + \"See below for your recommendations\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: compare phones 1 and 2\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: By comparing the specification scores from 'buysmaart.com' for both of these mobiles, Apple iPhone 5s seems to be better than\" + \" HTC Mobiles Desire 828 Dual SIM. See below for more details\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: what's the ram of oneplus two\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: 4 GB\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: Compare Moto X and oneplus two\" });\n  stencilMessages.push({ sender: \"prodx\", message: \"ProdX: By comparing the specification scores from 'buysmaart.com' for both of these mobiles, Oneplus two seems to be better than Motorola Moto X Play 32 GB.\" + \"See below for more details\" });\n  stencilMessages.push({ sender: \"user\", message: \"You: show me full details of oneplus two\" });\n\n  obj[\"messages\"] = stencilMessages;\n  res.send(obj);\n});\n\napp.get('/intro1', function (req, res) {\n  var obj = {};\n  obj[\"title\"] = \" What is ProdX?\";\n  var introPointers = [];\n  introPointers.push(\"Suggest phones for my daughter\");\n  introPointers.push(\"Mobiles popular for gaming under 15k\");\n  introPointers.push(\"Phones that can take awesome selfies\");\n  introPointers.push(\"Mobile that charge fast\");\n  obj[\"messages\"] = introPointers;\n  res.send(obj);\n});\n\napp.get('/intro2', function (req, res) {\n  var obj = {};\n  obj[\"title\"] = \" How it works?\";\n  var introPointers = [];\n  introPointers.push(\"Type your query in the chat window in simple sentences\");\n  introPointers.push(\"Scroll up and you can browse through the results\");\n  introPointers.push(\"Use prompts to see the popular questions\");\n  introPointers.push(\"Type 'clear' to start a new chat session\");\n  obj[\"messages\"] = introPointers;\n  res.send(obj);\n});\n\napp.get('/intro3', function (req, res) {\n  var obj = {};\n  obj[\"title\"] = \" What all can it do?\";\n  var introPointers = [];\n  introPointers.push(\"Recommend a List of mobile phones based on your requirements, purpose and budget\");\n  introPointers.push(\"Features of any particular model\");\n  introPointers.push(\"Meaning and definitions of mobile terminologies (eg. What is RAM ?)\");\n  introPointers.push(\"Compare features of two mobiles and recommend the better one\");\n  introPointers.push(\"Expert reviews\");\n  obj[\"messages\"] = introPointers;\n  res.send(obj);\n});\n\napp.get('/introMessages', function (req, res) {\n  var list = [];\n\n  var obj = {};\n  obj[\"title\"] = \" What is ProdX?\";\n  obj[\"page\"] = \"first\";\n  var introPointers = [];\n  introPointers.push(\"Suggest phones for my daughter\");\n  introPointers.push(\"Mobiles popular for gaming under 15k\");\n  introPointers.push(\"Phones that can take awesome selfies\");\n  introPointers.push(\"Mobile that charge fast\");\n  obj[\"messages\"] = introPointers;\n  list.push(obj);\n\n  var obj = {};\n  obj[\"title\"] = \" How it works?\";\n  obj[\"page\"] = \"second\";\n  var introPointers = [];\n  introPointers.push(\"Type your query in the chat window in simple sentences\");\n  introPointers.push(\"Scroll up and you can browse through the results\");\n  introPointers.push(\"Use prompts to see the popular questions\");\n  introPointers.push(\"Type 'clear' to start a new chat session\");\n  obj[\"messages\"] = introPointers;\n  list.push(obj);\n\n  var obj = {};\n  obj[\"title\"] = \" What all can it do?\";\n  obj[\"page\"] = \"third\";\n\n  var introPointers = [];\n  introPointers.push(\"Recommend a List of mobile phones based on your requirements, purpose and budget\");\n  introPointers.push(\"Features of any particular model\");\n  introPointers.push(\"Meaning and definitions of mobile terminologies (eg. What is RAM ?)\");\n  introPointers.push(\"Compare features of two mobiles and recommend the better one\");\n  introPointers.push(\"Expert reviews\");\n  obj[\"messages\"] = introPointers;\n  list.push(obj);\n\n  var obj = {};\n  obj[\"title\"] = \"What it cannot do?\";\n  obj[\"page\"] = \"fourth\";\n\n  var introPointers = [];\n  introPointers.push(\"Avoid using combined sentences \\n   eg: I want phones around 10k but with a 13 MP camera\");\n  introPointers.push(\"Do not use negative words \\n  eg: Don�t, doesn't, can't, not\");\n  introPointers.push(\"Rephrase your question in case ProdX doesn�t give you an expected response\");\n  introPointers.push(\"    You: How's Oneplus one?\");\n  introPointers.push(\"    ProdX: I'm not able to understand that.\");\n  introPointers.push(\"    You: Review of Oneplus one\");\n  introPointers.push(\"    ProdX: Oneplus one is a very good phone that comes at a very affordable price ...\");\n  obj[\"messages\"] = introPointers;\n  list.push(obj);\n\n  res.send(obj);\n});\n\nfunction witFunction(sessionId, msg) {\n\n  bot.witProcessMessage(sessionId, msg, sessionId, \"fb\", {}, function (result) {});\n}\n// The main message handler\napp.post('/webhook', function (req, res) {\n  // Parsing the Messenger API response\n  const messaging = FB.getFirstMessagingEntry(req.body);\n\n  if (messaging.postback) {\n    console.log(\"postback occurred\");\n    var text = JSON.stringify(messaging.postback);\n    console.log(text);\n  }\n\n  if (messaging && messaging.message) {\n\n    // Yay! We got a new message!\n\n    // We retrieve the Facebook user ID of the sender\n    const sender = messaging.sender.id;\n\n    // We retrieve the user's current session, or create one if it doesn't exist\n    // This is needed for our bot to figure out the conversation history\n    const sessionId = Sessions.findOrCreateSession(sender);\n\n    // We retrieve the message content\n    var msg = messaging.message.text;\n    const atts = messaging.message.attachments;\n\n    var timestamp = moment().format('MMM DD, YYYY,h:mm:ss a');\n    timestamp = new Date().getTime();\n\n    // db.inserttodB({'name':sender},'chatapp_user');\n    var details = { 'session_id': sessionId, 'sender': sender, 'content': msg, 'username': sessionId, timestamp: timestamp };\n    db.inserttodB(details, \"chatapp_msg\");\n\n    if (!lContext.isSessionExists(sessionId)) lContext.createContext(sessionId);\n    var localContext = lContext.userContext(sessionId);\n\n    if (atts) {\n      // We received an attachment\n      // Let's reply with an automatic message\n      FB.fbMessage(sender, 'Sorry I can only process text messages for now.');\n    } else if (msg) {\n      // We received a text message\n      // message may have typos check them\n      sentenceParser.cleanSentence(msg, function (clean_message) {\n        console.log(\"Cleaned messaged : \" + JSON.stringify(clean_message));\n        witFunction(sessionId, clean_message);\n      });\n    }\n  }\n  res.sendStatus(200);\n});\n\n//# sourceMappingURL=index-compiled.js.map"]}