{"version":3,"sources":["pushintodb-compiled.js"],"names":[],"mappings":"AAAA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;;AAEA,SAAS,WAAT,CAAqB,OAArB,EAA8B,MAA9B,EAAsC,QAAtC,EAAgD;AAC9C,MAAI,MAAM,MAAM,gBAAN,CAAuB;AAC/B,UAAM,WADyB;AAE/B,UAAM,MAFyB;AAG/B,cAAU,aAHqB;AAI/B,cAAU;AAJqB,GAAvB,CAAV;;AAOA,MAAI,OAAJ,CAAY,UAAU,GAAV,EAAe;AACzB,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,wBAAZ;AACA;AACD;AACF,GALD;;AAOA,MAAI,KAAJ,CAAU,2CAAV,EAAuD,QAAQ,UAAR,CAAvD,EAA4E,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC9F,QAAI,GAAJ,EAAS,MAAM,GAAN;AACT,QAAI,IAAI,MAAJ,IAAc,CAAlB,EAAqB;AACnB,eAAS,IAAT;AACD;AACF,GALD;AAMD;;AAED,SAAS,UAAT,CAAoB,OAApB,EAA6B,MAA7B,EAAqC;AACnC,MAAI,MAAM,MAAM,gBAAN,CAAuB;AAC/B,UAAM,WADyB;AAE/B,UAAM,MAFyB;AAG/B,cAAU,aAHqB;AAI/B,cAAU;AAJqB,GAAvB,CAAV;;AAOA,MAAI,OAAJ,CAAY,UAAU,GAAV,EAAe;AACzB,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,wBAAZ;AACA;AACD;AACF,GALD;;AAOA,MAAI,KAAJ,CAAU,2CAAV,EAAuD,CAAC,QAAQ,UAAR,CAAD,CAAvD,EAA8E,UAAU,GAAV,EAAe,GAAf,EAAoB;AAChG,QAAI,GAAJ,EAAS,MAAM,GAAN;AACT,QAAI,IAAI,MAAJ,IAAc,CAAlB,EAAqB;AACnB,UAAI,KAAJ,CAAU,kCAAV,EAA8C,EAAE,MAAM,QAAQ,UAAR,CAAR,EAA9C,EAA6E,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC/F,YAAI,GAAJ,EAAS,MAAM,GAAN;;AAEV,OAHD;AAID;;AAED,QAAI,KAAJ,CAAU,gCAAV,EAA4C,OAA5C,EAAqD,UAAU,GAAV,EAAe,GAAf,EAAoB;AACvE,UAAI,GAAJ,EAAS,MAAM,GAAN;;;AAGT,UAAI,GAAJ;AACD,KALD;AAMD,GAfD;;;;;;;AAsBD;AACD,OAAO,OAAP,GAAiB;AACf,cAAY;AADG,CAAjB","file":"pushintodb-compiled-compiled.js","sourcesContent":["var mysql = require(\"mysql\");\n\nfunction checkUserId(details, dbName, callback) {\n  var con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"ginger@data\",\n    database: 'prodx'\n  });\n\n  con.connect(function (err) {\n    if (err) {\n      console.log('Error connecting to Db');\n      return;\n    }\n  });\n\n  con.query(\"SELECT * FROM chatapp_user WHERE name = ?\", details[\"username\"], function (err, res) {\n    if (err) throw err;\n    if (res.length == 0) {\n      callback(true);\n    }\n  });\n}\n\nfunction inserttodB(details, dbName) {\n  var con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"ginger@data\",\n    database: 'prodx'\n  });\n\n  con.connect(function (err) {\n    if (err) {\n      console.log('Error connecting to Db');\n      return;\n    }\n  });\n\n  con.query(\"SELECT * FROM chatapp_user WHERE name = ?\", [details[\"username\"]], function (err, res) {\n    if (err) throw err;\n    if (res.length == 0) {\n      con.query('INSERT INTO chatapp_user  SET  ?', { name: details[\"username\"] }, function (err, res) {\n        if (err) throw err;\n        // console.log(\"inserted into chatapp_user: \",res.length , res);\n      });\n    }\n\n    con.query('INSERT INTO chatapp_msg  SET ?', details, function (err, res) {\n      if (err) throw err;\n\n      // console.log(\"inserted into chatapp_msg: \",res.length , res);\n      con.end();\n    });\n  });\n\n  /*con.end(function(err) {\n    // The connection is terminated gracefully\n    // Ensures all previously enqueued queries are still\n    // before sending a COM_QUIT packet to the MySQL server.\n  });*/\n}\nmodule.exports = {\n  inserttodB: inserttodB\n};\n\n//# sourceMappingURL=pushintodb-compiled.js.map"]}