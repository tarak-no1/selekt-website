{"version":3,"sources":["localContexts.js"],"names":[],"mappings":"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","file":"localContexts-compiled.js","sourcesContent":["var localContexts = [];\r\n\r\nfunction isSessionExists(sessionId){\r\n\r\n    for( var i in localContexts){\r\n        if( localContexts[i][\"sessionId\"] == sessionId)\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\nfunction storeNewKey(sessionId,key,value){\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if( localContexts[i][\"sessionId\"] == sessionId)\r\n         break;\r\n    }\r\n    localContexts[i][key] = value;\r\n}\r\n\r\nfunction appendContext(sessionId,newContext) {\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if( localContexts[i][\"sessionId\"] == sessionId)\r\n            break;\r\n    }\r\n\r\n    for (var key in newContext) {\r\n        localContexts[i][key] = newContext[key];\r\n    }\r\n}\r\n\r\nfunction createContext(sessionId){\r\n    \"use strict\";\r\n    var obj  ={};\r\n    obj.sessionId = sessionId;\r\n    obj.sessionVars = {};\r\n    localContexts.push(obj);\r\n}\r\n\r\nfunction storeNewSessionKey(sessionId,key,value){\r\n    for(var  i in localContexts){\r\n        if( localContexts[i][\"sessionId\"] == sessionId)\r\n            break;\r\n    }\r\n    localContexts[i][\"sessionVars\"][key] = value;\r\n}\r\nfunction getSessionVarValue(sessionId,key){\r\n\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    return localContexts[i][\"sessionVars\"][key];\r\n\r\n}\r\nfunction userContext(sessionId){\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    return localContexts[i];\r\n}\r\nfunction getValue(sessionId,key){\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    return localContexts[i][key];\r\n}\r\nfunction deleteContext(sessionId,callback){\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    delete  localContexts[i];\r\n    createContext(sessionId);\r\n\r\n    callback && callback(\"cleared\");\r\n\r\n}\r\nfunction deleteKey(sessionId,key){\r\n    \"use strict\";\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    delete localContexts[i][key];\r\n}\r\n\r\nfunction deleteSessionKey(sessionId,key){\r\n    var i;\r\n    for( i in localContexts){\r\n        if (localContexts[i][\"sessionId\"] === sessionId)\r\n            break;\r\n    }\r\n    delete localContexts[i][\"sessionVars\"][key];\r\n}\r\nvar sessionVariables = [\"start_price\",\"end_price\",\"brand_pref\",\"spec_pref\"];\r\n\r\n/*\r\ncreateContext(\"1234\");\r\nstoreNewSessionKey(\"1234\",\"start_price\",20000);\r\nvar context = userContext(\"1234\")\r\ncontext.sessionVars.start_price = 23455;\r\nconsole.log(context.sessionVars.start_price);\r\n\r\n*/\r\n\r\nmodule.exports ={\r\n    isSessionExists: isSessionExists,\r\n    storeNewKey: storeNewKey,\r\n    createContext:createContext,\r\n    userContext:userContext,\r\n    getValue:getValue,\r\n    deleteContext:deleteContext,\r\n    deleteKey:deleteKey,\r\n    appendContext:appendContext,\r\n    storeNewSessionKey:storeNewSessionKey,\r\n    getSessionVarValue:getSessionVarValue,\r\n    deleteSessionKey:deleteSessionKey\r\n};"]}